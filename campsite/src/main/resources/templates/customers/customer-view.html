<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

<!--  reference Bootstrap -->
<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	
	<title>View Customer</title>

</head>

<body>

	<div class="container">
		<h1 style="text-align:center">Crystal Lake Campsite</h1>
		<br>
		<h3>Customer Record</h3>
		<hr>
		
		
		<p class="h4 mb-4">Details</p>
	
			<table class="table table-sm table-bordered">
	
			<thead class="thead-dark">
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
				</tr>
			</thead>
	
	
			<tbody>
				<tr>
	
					<td th:text="${customer.firstName}"  />
					<td th:text="${customer.lastName}" />
					<td th:text="${customer.email}" />
				</tr>
			</tbody>
			
			</table>
		
		<p class="h4 mb-4">Bookings</p>
		
		<a th:href="@{/bookings/showBookingFormForAdd(customerId=${customer.id})}" class = "btn btn-primary btn-sm mb-3">Add Booking</a> 
		
		
		<table class="table table-bordered table-striped">
	
			<thead class="thead-dark">
				<tr>
					<th>Type</th>
					<th>Pitch</th>
					<th>Arrival</th>
					<th>Nights</th>
					<th>Dogs</th>
					<th>Fee(Â£)</th>
					<th>Paid</th>
					<th>Action</th>
				</tr>
			</thead>
	
	
			<tbody>
				<tr th:each="tempBooking : ${bookings}" >
					<td th:text="${tempBooking.type}"  />
					<td th:text="${tempBooking.plot}"  />
					<td th:text="${tempBooking.arrivalDate}"  />
					<td th:text="${tempBooking.noNights}"  />
					<td th:text="${tempBooking.dogs}"  />
					<td th:text="${tempBooking.fee}"  />
					<td th:text="${tempBooking.paid}"  />
					<td>
				
				<!-- Add update button/link includes customerId in the link -->
					<a th:href="@{/bookings/showBookingFormForUpdate(bookingId=${tempBooking.id})}" 
							class="btn btn-info btn-sm">Update</a>
				
<!-- 				Add delete button/link includes customerId in the link -->
					<a th:href="@{/bookings/delete(bookingId=${tempBooking.id})}" 
							class="btn btn-danger btn-sm"
							onclick="if (!(confirm('Are you sure you want to delete this booking? This CAN NOT be undone'))) return false">Delete</a>			
				</td>
				</tr>
			</tbody>
			
			</table>
		
		<hr>
		<a th:href="@{/customers/list}">Back to Customers List</a>
		
	</div>

</body>


</html>